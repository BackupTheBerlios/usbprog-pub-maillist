<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Usbprog-pub] Inbetriebnahme usbprog
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/usbprog-pub/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:usbprog-pub%40lists.berlios.de?Subject=Re%3A%20%5BUsbprog-pub%5D%20Inbetriebnahme%20usbprog&In-Reply-To=%3C46A106C5.3000805%40rwth-aachen.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000161.html">
   <LINK REL="Next"  HREF="000165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Usbprog-pub] Inbetriebnahme usbprog</H1>
    <B>Fabian Greif</B> 
    <A HREF="mailto:usbprog-pub%40lists.berlios.de?Subject=Re%3A%20%5BUsbprog-pub%5D%20Inbetriebnahme%20usbprog&In-Reply-To=%3C46A106C5.3000805%40rwth-aachen.de%3E"
       TITLE="[Usbprog-pub] Inbetriebnahme usbprog">fabian.greif at rwth-aachen.de
       </A><BR>
    <I>Fri Jul 20 21:02:29 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000161.html">[Usbprog-pub] Redesign CPLD f&#252;r 3,3 V und 5 V
</A></li>
        <LI>Next message: <A HREF="000165.html">[Usbprog-pub] Inbetriebnahme usbprog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#162">[ date ]</a>
              <a href="thread.html#162">[ thread ]</a>
              <a href="subject.html#162">[ subject ]</a>
              <a href="author.html#162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hallo,

ich bin gerade dabei einen usbprog aufzubauen, scheitere aber am letzten
Schritt: das aufspielen einer Firmware aus dem Pool.

Fusebits sind korrekt eingestellt, usbprog_base.hex von der Webseite
aufgespielt, der 24 MHz Quarz l&#228;uft und der AVR bekommt auch seine 16
MHz vom Clkout Pin (beides nachgemessen), trotzdem will der USB Teil 
nicht so richtig funktionieren.
Testweise habe ich auch versucht eine selbst compilierte Firmware aus 
dem SVN aufzuspielen (und dabei einige kleinere Warnings beseitigt), das 
Ergebnis bleibt aber das selbe.
Der Bootloadercode wird auf jeden Fall gestartet, das zeigen einige
kleinere Debug-LED Ausgaben die ich eingebaut habe. Trotzdem will die
Kommunikation nicht funktionieren.

Ich arbeite unter Ubuntu, dmesg zeigt mir an das etwas gefunden wurde:

&gt;<i> [  919.644000] usb 2-1: new full speed USB device using uhci_hcd and address 17
</I>&gt;<i> [  919.796000] usb 2-1: config 1 interface 0 altsetting 0 has 1 endpoint descriptor, different from the interface descriptor's value: 2
</I>&gt;<i> [  919.796000] usb 2-1: configuration #1 chosen from 1 choice
</I>
Sobald man aber irgendwie versucht sich genauere Informationen zu
verschaffen (sei es per lsusb oder dem usbprog Program) scheitert
irgendwas:

&gt;<i> [  955.376000] usb 2-1: USB disconnect, address 17
</I>&gt;<i> [  955.492000] usb 2-1: new full speed USB device using uhci_hcd and address 18
</I>&gt;<i> [  955.612000] usb 2-1: device descriptor read/64, error -71
</I>&gt;<i> [  955.836000] usb 2-1: device descriptor read/64, error -71
</I>&gt;<i> [  956.052000] usb 2-1: new full speed USB device using uhci_hcd and address 19
</I>&gt;<i> [  956.172000] usb 2-1: device descriptor read/64, error -71
</I>&gt;<i> [  956.396000] usb 2-1: device descriptor read/64, error -71
</I>&gt;<i> [  956.612000] usb 2-1: new full speed USB device using uhci_hcd and address 20
</I>&gt;<i> [  957.020000] usb 2-1: device not accepting address 20, error -71
</I>&gt;<i> [  957.132000] usb 2-1: new full speed USB device using uhci_hcd and address 21
</I>&gt;<i> [  957.540000] usb 2-1: device not accepting address 21, error -71
</I>
Leider kenne ich mich mit USB bisher noch nicht gut genug aus, um daraus
irgendetwas herauslesen zu k&#246;nnen.

Hat jemand eine Idee was das Problem sein k&#246;nnte?

Gr&#252;&#223;e
Fabian Greif

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000161.html">[Usbprog-pub] Redesign CPLD f&#252;r 3,3 V und 5 V
</A></li>
	<LI>Next message: <A HREF="000165.html">[Usbprog-pub] Inbetriebnahme usbprog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#162">[ date ]</a>
              <a href="thread.html#162">[ thread ]</a>
              <a href="subject.html#162">[ subject ]</a>
              <a href="author.html#162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/usbprog-pub">More information about the Usbprog-pub
mailing list</a><br>
</body></html>
